<meta charset="utf-8">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Map API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqwnYCgWy-a9Y12YpC860itvVNCCFh67o&callback=initMap" async defer></script>

</head>

<body>
    <div class = "iphoneWindow">
        <img src = "./image/iphone.png" >
    </div>
    <div class = "container">
        <header>
            <div class = "topMenu">
                <img src = "./image/leftArrow.png" onclick = "window.history.back();" style = "width : 20px">
                <div class = "currentInform">
                    <span> City </span>
                    <span> Days </span>
                </div>
                <div class = "darkToggle"> Dark / Bright </div>
            </div>            
            <div class = "subMenu">
                <div class = "menu">
                    <span class = "placeButton" onclick="scrollToTarget('place1')"> p1 </span>
                    <span class = "placeButton" onclick="scrollToTarget('place2')"> p2 </span>
                    <span class = "placeButton" onclick="scrollToTarget('place3')"> p3 </span>
                    <span class = "placeButton" onclick="scrollToTarget('place4')"> p4 </span>
                    <span class = "placeButton" onclick="scrollToTarget('place5')"> p5 </span>
                </div>
                <span class = "mapMenu" onclick="scrollToTarget('mapField')">
                    Map Menu
                </span>
            </div>
        </header>
        
        <div class = "mainField"> <!-- 슬라이드로 상하 이동이 가능하도록 하자  -->
            
            <div class = "menuMargin"></div>
            <div Id = "mapField">
                <div id="map" style="width: 100%; height: 500px;"></div>
            </div>
            <div class = "placeField">
                <div id = "place1"> place 1 </div>
                <div id = "place2"> place 2 </div>
                <div id = "place3"> place 3 </div>
                <div id = "place4"> place 4 </div>
                <div id = "place5"> place 5 </div>
                <div class = "blank"></div>
            </div>       
            

            </div>     
        </div>
        
        
    </div>   
    
    

    
    
    



















    <!-- 페이지 구현 스크립트-->
    <script>
        // localstorage 에서 { 검색결과 n가지, history 이력 가져오기 }
        const cityName = localStorage.getItem('city');  // 
        const numberOfDays = localStorage.getItem('days');
        const city = cityName;
        // LocalStorage의 도시가 있다면 이걸로 구글맵 핀 5개 + 각각 사진 3개 ( API )
        const cityPlace1 = localStorage.getItem('cityPlace'+cityName+0); // cityPlace도시이름1
        const cityPlace2 = localStorage.getItem('cityPlace'+cityName+1);
        const cityPlace3 = localStorage.getItem('cityPlace'+cityName+2);
        const cityPlace4 = localStorage.getItem('cityPlace'+cityName+3);
        const cityPlace5 = localStorage.getItem('cityPlace'+cityName+4);   
    </script>

    <script> // Google Map API 
        function initMap() {
        const mapOptions = {
            zoom: 15 // Zoom level
        };

        const map = new google.maps.Map(document.getElementById('map'), mapOptions);

        const geocoder = new google.maps.Geocoder();

        geocoder.geocode({ address: '아키하바라' }, function (results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
            const location = results[0].geometry.location;

            const marker = new google.maps.Marker({
                position: location,
                map: map,
                title: '아키하바라'
            });

            map.setCenter(location);
            } else {
            console.error('Geocode was not successful for the following reason: ' + status);
            }
        });
        }
    </script>

    <script> // 스크롤 하기 위한 메서드 
        function scrollToTarget(Id) {
            const targetElement = document.getElementById(Id);
            const rect = targetElement.getBoundingClientRect();
            const offsetTop = window.pageYOffset + rect.top - 120;
            window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
            });
        }
    </script>


</body>